
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fight Club - 8</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
    <style>
        body {
            margin-top: 250px; /* Add top margin to the whole body */
        }
    
        #chart {
            width: 100%;
            height: 800px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 50px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }
        th {
            background-color: #f4f4f4;
            cursor: pointer;
        }
        #box-whisker-chart {
            width: 100%;
            height: 600px;
        }
    </style>
</head>
<body>
    <div id="chart"></div>
 <div id="box-whisker-chart"></div>
    <table id="data-table">
        <thead>
            <tr>
                <th data-column="class">Class</th>
                <th data-column="wins">Wins</th>
                <th data-column="losses">Losses</th>
                <th data-column="winrate">Win Rate (%)</th>
                <th data-column="damage">Damage Done</th>
                <th data-column="healing">Healing Done</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
   
    <script>
        var chart = echarts.init(document.getElementById('chart'));

        // Sample data
        var classes = ['Vampiir', 'Hero', 'Healer', 'Spiritmaster', 'Theurgist', 'Mentalist', 'Runemaster', 'Scout', 'Occultist', 'Warrior', 'Valkyrie', 'Wizard', 'Warden', 'Cabalist', 'Animist', 'Blademaster', 'Hunter', 'Necromancer', 'Minstrel', 'Mercenary', 'Berserker', 'Bainshee', 'Eldritch', 'Ranger', 'Bard', 'Skald', 'Shaman', 'Valewalker', 'Warlock', 'Friar', 'Champion', 'Thane', 'Nightshade', 'Armsman', 'Bonedancer', 'Cleric', 'Enchanter', 'Druid', 'Savage', 'Reaver', 'Paladin', 'Shadowblade', 'Heretic', 'Sorcerer'];
        var rawData = {'2025-02-28': {'Spiritmaster': {'wins': 26, 'losses': 17, 'total': 43, 'damage done': 251847, 'healing done': 38342}, 'Thane': {'wins': 19, 'losses': 7, 'total': 26, 'damage done': 267183, 'healing done': 7412}, 'Bonedancer': {'wins': 16, 'losses': 10, 'total': 26, 'damage done': 212394, 'healing done': 11777}, 'Warrior': {'wins': 26, 'losses': 35, 'total': 61, 'damage done': 351527, 'healing done': 20435}, 'Healer': {'wins': 75, 'losses': 90, 'total': 165, 'damage done': 15210, 'healing done': 1064892}, 'Shaman': {'wins': 35, 'losses': 39, 'total': 74, 'damage done': 14257, 'healing done': 335346}, 'Runemaster': {'wins': 28, 'losses': 23, 'total': 51, 'damage done': 336178, 'healing done': 13962}, 'Hero': {'wins': 15, 'losses': 16, 'total': 31, 'damage done': 185637, 'healing done': 5002}, 'Blademaster': {'wins': 9, 'losses': 12, 'total': 21, 'damage done': 185009, 'healing done': 4721}, 'Valewalker': {'wins': 15, 'losses': 8, 'total': 23, 'damage done': 225325, 'healing done': 12224}, 'Warden': {'wins': 16, 'losses': 21, 'total': 37, 'damage done': 24969, 'healing done': 353527}, 'Bard': {'wins': 29, 'losses': 23, 'total': 52, 'damage done': 30131, 'healing done': 109628}, 'Druid': {'wins': 16, 'losses': 20, 'total': 36, 'damage done': 8976, 'healing done': 236905}, 'Valkyrie': {'wins': 15, 'losses': 27, 'total': 42, 'damage done': 204841, 'healing done': 83722}, 'Theurgist': {'wins': 53, 'losses': 40, 'total': 93, 'damage done': 474162, 'healing done': 69880}, 'Mercenary': {'wins': 19, 'losses': 15, 'total': 34, 'damage done': 487050, 'healing done': 13849}, 'Cleric': {'wins': 59, 'losses': 37, 'total': 96, 'damage done': 64861, 'healing done': 748727}, 'Minstrel': {'wins': 39, 'losses': 22, 'total': 61, 'damage done': 326366, 'healing done': 61386}, 'Sorcerer': {'wins': 70, 'losses': 55, 'total': 125, 'damage done': 758132, 'healing done': 97320}, 'Armsman': {'wins': 28, 'losses': 18, 'total': 46, 'damage done': 406850, 'healing done': 16254}, 'Friar': {'wins': 37, 'losses': 32, 'total': 69, 'damage done': 48697, 'healing done': 1039507}, 'Paladin': {'wins': 25, 'losses': 19, 'total': 44, 'damage done': 390304, 'healing done': 191733}, 'Skald': {'wins': 24, 'losses': 45, 'total': 69, 'damage done': 361425, 'healing done': 70252}, 'Savage': {'wins': 11, 'losses': 25, 'total': 36, 'damage done': 362143, 'healing done': 13467}, 'Mentalist': {'wins': 5, 'losses': 20, 'total': 25, 'damage done': 79381, 'healing done': 6546}, 'Occultist': {'wins': 28, 'losses': 9, 'total': 37, 'damage done': 437240, 'healing done': 14484}, 'Cabalist': {'wins': 14, 'losses': 8, 'total': 22, 'damage done': 140921, 'healing done': 10596}, 'Berserker': {'wins': 12, 'losses': 39, 'total': 51, 'damage done': 447271, 'healing done': 25780}, 'Vampiir': {'wins': 10, 'losses': 7, 'total': 17, 'damage done': 182437, 'healing done': 3756}, 'Ranger': {'wins': 0, 'losses': 1, 'total': 1, 'damage done': 845, 'healing done': 0}, 'Animist': {'wins': 2, 'losses': 15, 'total': 17, 'damage done': 41367, 'healing done': 2841}, 'Nightshade': {'wins': 0, 'losses': 2, 'total': 2, 'damage done': 2997, 'healing done': 0}, 'Enchanter': {'wins': 2, 'losses': 5, 'total': 7, 'damage done': 19633, 'healing done': 1295}, 'Eldritch': {'wins': 3, 'losses': 13, 'total': 16, 'damage done': 33837, 'healing done': 3397}, 'Wizard': {'wins': 5, 'losses': 12, 'total': 17, 'damage done': 102804, 'healing done': 2584}, 'Heretic': {'wins': 7, 'losses': 6, 'total': 13, 'damage done': 95896, 'healing done': 32929}, 'Warlock': {'wins': 1, 'losses': 4, 'total': 5, 'damage done': 22068, 'healing done': 18706}, 'Bainshee': {'wins': 1, 'losses': 6, 'total': 7, 'damage done': 33169, 'healing done': 838}, 'Reaver': {'wins': 0, 'losses': 1, 'total': 1, 'damage done': 139, 'healing done': 0}, 'Champion': {'wins': 5, 'losses': 2, 'total': 7, 'damage done': 57925, 'healing done': 2627}}, '2025-03-01': {'Friar': {'wins': 32, 'losses': 14, 'total': 46, 'damage done': 18347, 'healing done': 693905}, 'Sorcerer': {'wins': 57, 'losses': 30, 'total': 87, 'damage done': 539817, 'healing done': 49056}, 'Cleric': {'wins': 36, 'losses': 14, 'total': 50, 'damage done': 40340, 'healing done': 346400}, 'Theurgist': {'wins': 33, 'losses': 13, 'total': 46, 'damage done': 245452, 'healing done': 21272}, 'Armsman': {'wins': 22, 'losses': 10, 'total': 32, 'damage done': 303238, 'healing done': 19379}, 'Minstrel': {'wins': 29, 'losses': 11, 'total': 40, 'damage done': 245569, 'healing done': 44326}, 'Paladin': {'wins': 23, 'losses': 9, 'total': 32, 'damage done': 365909, 'healing done': 108975}, 'Runemaster': {'wins': 4, 'losses': 18, 'total': 22, 'damage done': 111783, 'healing done': 3936}, 'Spiritmaster': {'wins': 6, 'losses': 16, 'total': 22, 'damage done': 104535, 'healing done': 8700}, 'Valkyrie': {'wins': 5, 'losses': 6, 'total': 11, 'damage done': 41515, 'healing done': 21263}, 'Warrior': {'wins': 0, 'losses': 4, 'total': 4, 'damage done': 8919, 'healing done': 409}, 'Healer': {'wins': 14, 'losses': 33, 'total': 47, 'damage done': 2416, 'healing done': 325464}, 'Shaman': {'wins': 7, 'losses': 16, 'total': 23, 'damage done': 2119, 'healing done': 147720}, 'Bonedancer': {'wins': 8, 'losses': 15, 'total': 23, 'damage done': 174774, 'healing done': 3332}, 'Mentalist': {'wins': 5, 'losses': 15, 'total': 20, 'damage done': 76549, 'healing done': 4900}, 'Animist': {'wins': 5, 'losses': 8, 'total': 13, 'damage done': 65710, 'healing done': 6263}, 'Druid': {'wins': 7, 'losses': 18, 'total': 25, 'damage done': 7351, 'healing done': 203881}, 'Hero': {'wins': 5, 'losses': 11, 'total': 16, 'damage done': 63782, 'healing done': 5874}, 'Warden': {'wins': 7, 'losses': 17, 'total': 24, 'damage done': 3401, 'healing done': 265480}, 'Enchanter': {'wins': 7, 'losses': 12, 'total': 19, 'damage done': 127029, 'healing done': 5208}, 'Bainshee': {'wins': 2, 'losses': 4, 'total': 6, 'damage done': 36705, 'healing done': 597}, 'Bard': {'wins': 9, 'losses': 26, 'total': 35, 'damage done': 12510, 'healing done': 31005}, 'Mercenary': {'wins': 22, 'losses': 6, 'total': 28, 'damage done': 373706, 'healing done': 21284}, 'Occultist': {'wins': 14, 'losses': 1, 'total': 15, 'damage done': 221241, 'healing done': 2664}, 'Berserker': {'wins': 2, 'losses': 2, 'total': 4, 'damage done': 13737, 'healing done': 264}, 'Savage': {'wins': 1, 'losses': 1, 'total': 2, 'damage done': 10230, 'healing done': 61}, 'Skald': {'wins': 5, 'losses': 12, 'total': 17, 'damage done': 58091, 'healing done': 9942}, 'Eldritch': {'wins': 3, 'losses': 7, 'total': 10, 'damage done': 41468, 'healing done': 3421}, 'Nightshade': {'wins': 0, 'losses': 1, 'total': 1, 'damage done': 54, 'healing done': 136}, 'Blademaster': {'wins': 2, 'losses': 8, 'total': 10, 'damage done': 42281, 'healing done': 1319}, 'Valewalker': {'wins': 2, 'losses': 8, 'total': 10, 'damage done': 37605, 'healing done': 4844}, 'Wizard': {'wins': 3, 'losses': 4, 'total': 7, 'damage done': 55159, 'healing done': 2344}, 'Heretic': {'wins': 1, 'losses': 0, 'total': 1, 'damage done': 5678, 'healing done': 0}, 'Thane': {'wins': 4, 'losses': 12, 'total': 16, 'damage done': 135025, 'healing done': 6481}, 'Warlock': {'wins': 0, 'losses': 1, 'total': 1, 'damage done': 1185, 'healing done': 2137}, 'Vampiir': {'wins': 2, 'losses': 3, 'total': 5, 'damage done': 40148, 'healing done': 442}}, '2025-03-02': {'Sorcerer': {'wins': 68, 'losses': 37, 'total': 105, 'damage done': 686797, 'healing done': 83970}, 'Theurgist': {'wins': 47, 'losses': 29, 'total': 76, 'damage done': 402526, 'healing done': 58795}, 'Armsman': {'wins': 40, 'losses': 23, 'total': 63, 'damage done': 673278, 'healing done': 32364}, 'Friar': {'wins': 47, 'losses': 30, 'total': 77, 'damage done': 69945, 'healing done': 1383427}, 'Cleric': {'wins': 49, 'losses': 31, 'total': 80, 'damage done': 55820, 'healing done': 698988}, 'Occultist': {'wins': 20, 'losses': 9, 'total': 29, 'damage done': 417320, 'healing done': 17939}, 'Paladin': {'wins': 27, 'losses': 23, 'total': 50, 'damage done': 534525, 'healing done': 207786}, 'Minstrel': {'wins': 48, 'losses': 35, 'total': 83, 'damage done': 523580, 'healing done': 114699}, 'Mercenary': {'wins': 9, 'losses': 18, 'total': 27, 'damage done': 374735, 'healing done': 16632}, 'Shaman': {'wins': 28, 'losses': 38, 'total': 66, 'damage done': 8923, 'healing done': 221472}, 'Runemaster': {'wins': 28, 'losses': 40, 'total': 68, 'damage done': 337297, 'healing done': 19814}, 'Spiritmaster': {'wins': 26, 'losses': 25, 'total': 51, 'damage done': 287408, 'healing done': 37366}, 'Valkyrie': {'wins': 9, 'losses': 14, 'total': 23, 'damage done': 73267, 'healing done': 27276}, 'Bonedancer': {'wins': 30, 'losses': 35, 'total': 65, 'damage done': 472242, 'healing done': 23582}, 'Healer': {'wins': 56, 'losses': 76, 'total': 132, 'damage done': 4177, 'healing done': 755603}, 'Warrior': {'wins': 19, 'losses': 15, 'total': 34, 'damage done': 135292, 'healing done': 7691}, 'Thane': {'wins': 19, 'losses': 24, 'total': 43, 'damage done': 299978, 'healing done': 8726}, 'Savage': {'wins': 4, 'losses': 1, 'total': 5, 'damage done': 55752, 'healing done': 1086}, 'Hero': {'wins': 37, 'losses': 30, 'total': 67, 'damage done': 418656, 'healing done': 10884}, 'Mentalist': {'wins': 33, 'losses': 54, 'total': 87, 'damage done': 443339, 'healing done': 40234}, 'Vampiir': {'wins': 21, 'losses': 19, 'total': 40, 'damage done': 434787, 'healing done': 6571}, 'Druid': {'wins': 42, 'losses': 50, 'total': 92, 'damage done': 11865, 'healing done': 659748}, 'Enchanter': {'wins': 22, 'losses': 41, 'total': 63, 'damage done': 323498, 'healing done': 15136}, 'Blademaster': {'wins': 21, 'losses': 15, 'total': 36, 'damage done': 414389, 'healing done': 12367}, 'Bard': {'wins': 62, 'losses': 57, 'total': 119, 'damage done': 82295, 'healing done': 117457}, 'Warden': {'wins': 42, 'losses': 50, 'total': 92, 'damage done': 36983, 'healing done': 1002613}, 'Cabalist': {'wins': 21, 'losses': 10, 'total': 31, 'damage done': 208585, 'healing done': 15085}, 'Valewalker': {'wins': 18, 'losses': 7, 'total': 25, 'damage done': 237305, 'healing done': 7875}, 'Berserker': {'wins': 4, 'losses': 18, 'total': 22, 'damage done': 164511, 'healing done': 6203}, 'Champion': {'wins': 2, 'losses': 1, 'total': 3, 'damage done': 24086, 'healing done': 319}, 'Skald': {'wins': 1, 'losses': 14, 'total': 15, 'damage done': 34646, 'healing done': 3927}, 'Eldritch': {'wins': 18, 'losses': 39, 'total': 57, 'damage done': 270315, 'healing done': 12936}, 'Animist': {'wins': 14, 'losses': 25, 'total': 39, 'damage done': 79229, 'healing done': 4444}, 'Bainshee': {'wins': 4, 'losses': 12, 'total': 16, 'damage done': 49999, 'healing done': 2499}, 'Reaver': {'wins': 7, 'losses': 5, 'total': 12, 'damage done': 49965, 'healing done': 4006}, 'Warlock': {'wins': 0, 'losses': 6, 'total': 6, 'damage done': 10419, 'healing done': 12070}, 'Heretic': {'wins': 0, 'losses': 1, 'total': 1, 'damage done': 7088, 'healing done': 1127}, 'Wizard': {'wins': 1, 'losses': 0, 'total': 1, 'damage done': 35776, 'healing done': 0}}, '2025-03-03': {'Blademaster': {'wins': 9, 'losses': 21, 'total': 30, 'damage done': 244859, 'healing done': 8806}, 'Hero': {'wins': 14, 'losses': 24, 'total': 38, 'damage done': 226985, 'healing done': 10410}, 'Druid': {'wins': 18, 'losses': 23, 'total': 41, 'damage done': 3521, 'healing done': 324147}, 'Bard': {'wins': 27, 'losses': 35, 'total': 62, 'damage done': 44803, 'healing done': 121426}, 'Champion': {'wins': 1, 'losses': 4, 'total': 5, 'damage done': 15061, 'healing done': 1536}, 'Warden': {'wins': 15, 'losses': 19, 'total': 34, 'damage done': 17677, 'healing done': 332270}, 'Skald': {'wins': 16, 'losses': 26, 'total': 42, 'damage done': 111259, 'healing done': 24205}, 'Runemaster': {'wins': 9, 'losses': 27, 'total': 36, 'damage done': 151109, 'healing done': 4505}, 'Healer': {'wins': 35, 'losses': 60, 'total': 95, 'damage done': 2460, 'healing done': 569408}, 'Warrior': {'wins': 8, 'losses': 11, 'total': 19, 'damage done': 90366, 'healing done': 2770}, 'Savage': {'wins': 1, 'losses': 6, 'total': 7, 'damage done': 26829, 'healing done': 129}, 'Shadowblade': {'wins': 1, 'losses': 1, 'total': 2, 'damage done': 13397, 'healing done': 385}, 'Cleric': {'wins': 71, 'losses': 49, 'total': 120, 'damage done': 88911, 'healing done': 756277}, 'Cabalist': {'wins': 29, 'losses': 23, 'total': 52, 'damage done': 354278, 'healing done': 34809}, 'Minstrel': {'wins': 56, 'losses': 41, 'total': 97, 'damage done': 386725, 'healing done': 69455}, 'Paladin': {'wins': 32, 'losses': 23, 'total': 55, 'damage done': 423737, 'healing done': 147734}, 'Armsman': {'wins': 37, 'losses': 22, 'total': 59, 'damage done': 426949, 'healing done': 13638}, 'Sorcerer': {'wins': 79, 'losses': 62, 'total': 141, 'damage done': 690665, 'healing done': 54689}, 'Friar': {'wins': 46, 'losses': 43, 'total': 89, 'damage done': 107526, 'healing done': 993319}, 'Theurgist': {'wins': 53, 'losses': 42, 'total': 95, 'damage done': 446465, 'healing done': 49808}, 'Spiritmaster': {'wins': 17, 'losses': 21, 'total': 38, 'damage done': 195024, 'healing done': 28813}, 'Shaman': {'wins': 18, 'losses': 29, 'total': 47, 'damage done': 7247, 'healing done': 138995}, 'Bonedancer': {'wins': 20, 'losses': 23, 'total': 43, 'damage done': 365290, 'healing done': 10570}, 'Valkyrie': {'wins': 1, 'losses': 13, 'total': 14, 'damage done': 21926, 'healing done': 12828}, 'Occultist': {'wins': 30, 'losses': 8, 'total': 38, 'damage done': 375711, 'healing done': 16627}, 'Mercenary': {'wins': 17, 'losses': 10, 'total': 27, 'damage done': 251451, 'healing done': 3028}, 'Wizard': {'wins': 8, 'losses': 6, 'total': 14, 'damage done': 95778, 'healing done': 4076}, 'Thane': {'wins': 13, 'losses': 11, 'total': 24, 'damage done': 169895, 'healing done': 4191}, 'Eldritch': {'wins': 12, 'losses': 4, 'total': 16, 'damage done': 89096, 'healing done': 3084}, 'Mentalist': {'wins': 4, 'losses': 11, 'total': 15, 'damage done': 71906, 'healing done': 6727}, 'Enchanter': {'wins': 4, 'losses': 3, 'total': 7, 'damage done': 54440, 'healing done': 4383}, 'Animist': {'wins': 8, 'losses': 2, 'total': 10, 'damage done': 24310, 'healing done': 4577}, 'Berserker': {'wins': 4, 'losses': 9, 'total': 13, 'damage done': 110009, 'healing done': 2339}, 'Vampiir': {'wins': 8, 'losses': 12, 'total': 20, 'damage done': 228199, 'healing done': 11360}, 'Valewalker': {'wins': 8, 'losses': 10, 'total': 18, 'damage done': 146399, 'healing done': 12833}, 'Hunter': {'wins': 1, 'losses': 0, 'total': 1, 'damage done': 132, 'healing done': 0}, 'Scout': {'wins': 0, 'losses': 1, 'total': 1, 'damage done': 1928, 'healing done': 1013}, 'Bainshee': {'wins': 8, 'losses': 3, 'total': 11, 'damage done': 66669, 'healing done': 475}, 'Warlock': {'wins': 0, 'losses': 9, 'total': 9, 'damage done': 8896, 'healing done': 4712}, 'Heretic': {'wins': 0, 'losses': 6, 'total': 6, 'damage done': 17315, 'healing done': 7985}, 'Reaver': {'wins': 6, 'losses': 0, 'total': 6, 'damage done': 54949, 'healing done': 136}, 'Necromancer': {'wins': 0, 'losses': 4, 'total': 4, 'damage done': 20315, 'healing done': 0}}, '2025-03-04': {'Mercenary': {'wins': 3, 'losses': 3, 'total': 6, 'damage done': 49243, 'healing done': 712}, 'Theurgist': {'wins': 19, 'losses': 12, 'total': 31, 'damage done': 147087, 'healing done': 24767}, 'Sorcerer': {'wins': 27, 'losses': 21, 'total': 48, 'damage done': 253564, 'healing done': 30856}, 'Armsman': {'wins': 12, 'losses': 8, 'total': 20, 'damage done': 133327, 'healing done': 4615}, 'Paladin': {'wins': 15, 'losses': 7, 'total': 22, 'damage done': 162601, 'healing done': 48713}, 'Minstrel': {'wins': 19, 'losses': 12, 'total': 31, 'damage done': 113259, 'healing done': 35545}, 'Cleric': {'wins': 19, 'losses': 12, 'total': 31, 'damage done': 8021, 'healing done': 195490}, 'Friar': {'wins': 19, 'losses': 12, 'total': 31, 'damage done': 20813, 'healing done': 324406}, 'Champion': {'wins': 6, 'losses': 10, 'total': 16, 'damage done': 96691, 'healing done': 4955}, 'Druid': {'wins': 14, 'losses': 20, 'total': 34, 'damage done': 5355, 'healing done': 237930}, 'Eldritch': {'wins': 3, 'losses': 11, 'total': 14, 'damage done': 62400, 'healing done': 8271}, 'Warden': {'wins': 14, 'losses': 20, 'total': 34, 'damage done': 9120, 'healing done': 395120}, 'Mentalist': {'wins': 11, 'losses': 19, 'total': 30, 'damage done': 194953, 'healing done': 11444}, 'Bard': {'wins': 24, 'losses': 30, 'total': 54, 'damage done': 49209, 'healing done': 64339}, 'Enchanter': {'wins': 4, 'losses': 10, 'total': 14, 'damage done': 72606, 'healing done': 5031}, 'Animist': {'wins': 0, 'losses': 2, 'total': 2, 'damage done': 1003, 'healing done': 835}, 'Occultist': {'wins': 11, 'losses': 0, 'total': 11, 'damage done': 109727, 'healing done': 3868}, 'Blademaster': {'wins': 6, 'losses': 8, 'total': 14, 'damage done': 138973, 'healing done': 5905}, 'Hero': {'wins': 14, 'losses': 15, 'total': 29, 'damage done': 176997, 'healing done': 10795}, 'Skald': {'wins': 1, 'losses': 2, 'total': 3, 'damage done': 6307, 'healing done': 618}, 'Thane': {'wins': 1, 'losses': 2, 'total': 3, 'damage done': 6113, 'healing done': 590}, 'Shaman': {'wins': 1, 'losses': 2, 'total': 3, 'damage done': 254, 'healing done': 5032}, 'Runemaster': {'wins': 1, 'losses': 3, 'total': 4, 'damage done': 13314, 'healing done': 0}, 'Healer': {'wins': 2, 'losses': 3, 'total': 5, 'damage done': 151, 'healing done': 7854}, 'Berserker': {'wins': 0, 'losses': 2, 'total': 2, 'damage done': 5439, 'healing done': 225}, 'Warlock': {'wins': 0, 'losses': 2, 'total': 2, 'damage done': 505, 'healing done': 2561}, 'Cabalist': {'wins': 7, 'losses': 9, 'total': 16, 'damage done': 100903, 'healing done': 17968}, 'Valewalker': {'wins': 10, 'losses': 8, 'total': 18, 'damage done': 177796, 'healing done': 6803}, 'Vampiir': {'wins': 6, 'losses': 5, 'total': 11, 'damage done': 143980, 'healing done': 3547}, 'Wizard': {'wins': 1, 'losses': 0, 'total': 1, 'damage done': 5388, 'healing done': 0}, 'Spiritmaster': {'wins': 1, 'losses': 0, 'total': 1, 'damage done': 7741, 'healing done': 40}, 'Bonedancer': {'wins': 1, 'losses': 0, 'total': 1, 'damage done': 9002, 'healing done': 0}, 'Bainshee': {'wins': 0, 'losses': 1, 'total': 1, 'damage done': 1822, 'healing done': 721}}, '2025-03-05': {'Shaman': {'wins': 25, 'losses': 44, 'total': 69, 'damage done': 10944, 'healing done': 503515}, 'Berserker': {'wins': 8, 'losses': 25, 'total': 33, 'damage done': 332663, 'healing done': 31045}, 'Healer': {'wins': 52, 'losses': 96, 'total': 148, 'damage done': 12100, 'healing done': 1034157}, 'Bonedancer': {'wins': 22, 'losses': 35, 'total': 57, 'damage done': 459143, 'healing done': 21051}, 'Spiritmaster': {'wins': 23, 'losses': 34, 'total': 57, 'damage done': 348919, 'healing done': 42801}, 'Warrior': {'wins': 16, 'losses': 20, 'total': 36, 'damage done': 270138, 'healing done': 12035}, 'Skald': {'wins': 13, 'losses': 34, 'total': 47, 'damage done': 253376, 'healing done': 54164}, 'Bard': {'wins': 22, 'losses': 30, 'total': 52, 'damage done': 37359, 'healing done': 76608}, 'Hero': {'wins': 13, 'losses': 17, 'total': 30, 'damage done': 178946, 'healing done': 10745}, 'Blademaster': {'wins': 5, 'losses': 5, 'total': 10, 'damage done': 124278, 'healing done': 5830}, 'Valewalker': {'wins': 5, 'losses': 5, 'total': 10, 'damage done': 90496, 'healing done': 7861}, 'Vampiir': {'wins': 5, 'losses': 7, 'total': 12, 'damage done': 193912, 'healing done': 5328}, 'Druid': {'wins': 16, 'losses': 20, 'total': 36, 'damage done': 14119, 'healing done': 274236}, 'Warden': {'wins': 16, 'losses': 20, 'total': 36, 'damage done': 9356, 'healing done': 539185}, 'Runemaster': {'wins': 16, 'losses': 22, 'total': 38, 'damage done': 195085, 'healing done': 11190}, 'Valkyrie': {'wins': 8, 'losses': 22, 'total': 30, 'damage done': 146309, 'healing done': 42070}, 'Sorcerer': {'wins': 71, 'losses': 24, 'total': 95, 'damage done': 529824, 'healing done': 21776}, 'Theurgist': {'wins': 59, 'losses': 20, 'total': 79, 'damage done': 495478, 'healing done': 15053}, 'Minstrel': {'wins': 22, 'losses': 10, 'total': 32, 'damage done': 134009, 'healing done': 10290}, 'Friar': {'wins': 39, 'losses': 18, 'total': 57, 'damage done': 23732, 'healing done': 568225}, 'Cleric': {'wins': 47, 'losses': 22, 'total': 69, 'damage done': 26301, 'healing done': 460049}, 'Occultist': {'wins': 12, 'losses': 9, 'total': 21, 'damage done': 276600, 'healing done': 4526}, 'Armsman': {'wins': 33, 'losses': 12, 'total': 45, 'damage done': 335806, 'healing done': 8842}, 'Paladin': {'wins': 20, 'losses': 11, 'total': 31, 'damage done': 234146, 'healing done': 75797}, 'Thane': {'wins': 19, 'losses': 27, 'total': 46, 'damage done': 407618, 'healing done': 8307}, 'Reaver': {'wins': 4, 'losses': 4, 'total': 8, 'damage done': 65894, 'healing done': 5377}, 'Savage': {'wins': 6, 'losses': 21, 'total': 27, 'damage done': 200332, 'healing done': 7224}, 'Animist': {'wins': 8, 'losses': 9, 'total': 17, 'damage done': 52895, 'healing done': 3622}, 'Mentalist': {'wins': 15, 'losses': 16, 'total': 31, 'damage done': 192875, 'healing done': 18626}, 'Eldritch': {'wins': 14, 'losses': 13, 'total': 27, 'damage done': 184687, 'healing done': 7686}, 'Enchanter': {'wins': 13, 'losses': 14, 'total': 27, 'damage done': 170142, 'healing done': 8436}, 'Necromancer': {'wins': 5, 'losses': 2, 'total': 7, 'damage done': 43915, 'healing done': 0}, 'Mercenary': {'wins': 10, 'losses': 2, 'total': 12, 'damage done': 122624, 'healing done': 2084}, 'Champion': {'wins': 0, 'losses': 1, 'total': 1, 'damage done': 1356, 'healing done': 951}, 'Cabalist': {'wins': 18, 'losses': 3, 'total': 21, 'damage done': 122684, 'healing done': 10693}, 'Bainshee': {'wins': 1, 'losses': 3, 'total': 4, 'damage done': 27656, 'healing done': 1389}, 'Wizard': {'wins': 4, 'losses': 4, 'total': 8, 'damage done': 61784, 'healing done': 1449}, 'Warlock': {'wins': 0, 'losses': 4, 'total': 4, 'damage done': 12589, 'healing done': 1007}}, '2025-03-06': {'Runemaster': {'wins': 4, 'losses': 5, 'total': 9, 'damage done': 66242, 'healing done': 484}, 'Shaman': {'wins': 7, 'losses': 7, 'total': 14, 'damage done': 2497, 'healing done': 30544}, 'Healer': {'wins': 11, 'losses': 12, 'total': 23, 'damage done': 1105, 'healing done': 93982}, 'Valkyrie': {'wins': 12, 'losses': 4, 'total': 16, 'damage done': 81157, 'healing done': 9739}, 'Skald': {'wins': 7, 'losses': 6, 'total': 13, 'damage done': 38509, 'healing done': 5124}, 'Thane': {'wins': 3, 'losses': 6, 'total': 9, 'damage done': 35386, 'healing done': 1172}, 'Spiritmaster': {'wins': 3, 'losses': 5, 'total': 8, 'damage done': 29085, 'healing done': 2575}, 'Wizard': {'wins': 2, 'losses': 0, 'total': 2, 'damage done': 31140, 'healing done': 140}, 'Friar': {'wins': 34, 'losses': 10, 'total': 44, 'damage done': 19511, 'healing done': 355209}, 'Occultist': {'wins': 25, 'losses': 1, 'total': 26, 'damage done': 331525, 'healing done': 4561}, 'Cleric': {'wins': 60, 'losses': 16, 'total': 76, 'damage done': 40683, 'healing done': 445698}, 'Paladin': {'wins': 28, 'losses': 6, 'total': 34, 'damage done': 272822, 'healing done': 78946}, 'Theurgist': {'wins': 60, 'losses': 17, 'total': 77, 'damage done': 444719, 'healing done': 47178}, 'Warrior': {'wins': 0, 'losses': 1, 'total': 1, 'damage done': 2644, 'healing done': 123}, 'Warlock': {'wins': 9, 'losses': 4, 'total': 13, 'damage done': 67828, 'healing done': 555}, 'Shadowblade': {'wins': 0, 'losses': 1, 'total': 1, 'damage done': 0, 'healing done': 0}, 'Sorcerer': {'wins': 65, 'losses': 23, 'total': 88, 'damage done': 505435, 'healing done': 36762}, 'Heretic': {'wins': 15, 'losses': 3, 'total': 18, 'damage done': 243723, 'healing done': 15402}, 'Armsman': {'wins': 33, 'losses': 7, 'total': 40, 'damage done': 272657, 'healing done': 10131}, 'Minstrel': {'wins': 33, 'losses': 8, 'total': 41, 'damage done': 194352, 'healing done': 30458}, 'Mentalist': {'wins': 8, 'losses': 18, 'total': 26, 'damage done': 98989, 'healing done': 16673}, 'Warden': {'wins': 23, 'losses': 59, 'total': 82, 'damage done': 34852, 'healing done': 823695}, 'Blademaster': {'wins': 21, 'losses': 54, 'total': 75, 'damage done': 629527, 'healing done': 21610}, 'Druid': {'wins': 23, 'losses': 59, 'total': 82, 'damage done': 30020, 'healing done': 605373}, 'Hero': {'wins': 23, 'losses': 49, 'total': 72, 'damage done': 425421, 'healing done': 22768}, 'Valewalker': {'wins': 15, 'losses': 38, 'total': 53, 'damage done': 318491, 'healing done': 31517}, 'Bard': {'wins': 38, 'losses': 96, 'total': 134, 'damage done': 87651, 'healing done': 214422}, 'Cabalist': {'wins': 17, 'losses': 7, 'total': 24, 'damage done': 174571, 'healing done': 13092}, 'Eldritch': {'wins': 7, 'losses': 13, 'total': 20, 'damage done': 74050, 'healing done': 5796}, 'Enchanter': {'wins': 7, 'losses': 21, 'total': 28, 'damage done': 118791, 'healing done': 10443}, 'Animist': {'wins': 2, 'losses': 11, 'total': 13, 'damage done': 14024, 'healing done': 2916}, 'Bainshee': {'wins': 3, 'losses': 10, 'total': 13, 'damage done': 17812, 'healing done': 3981}, 'Champion': {'wins': 13, 'losses': 35, 'total': 48, 'damage done': 210688, 'healing done': 20032}, 'Vampiir': {'wins': 1, 'losses': 9, 'total': 10, 'damage done': 22467, 'healing done': 3882}, 'Mercenary': {'wins': 4, 'losses': 5, 'total': 9, 'damage done': 98037, 'healing done': 4008}}};
                var rawDataTimes = Object.keys(rawData).map(date => new Date(date).getTime());  // Convert date string to timestamp (milliseconds)

        // Get the minimum and maximum time
        var originalMinTime = new Date(Math.min(...rawDataTimes));  // Get the minimum timestamp
        var originalMaxTime = new Date(Math.max(...rawDataTimes));  // Get the maximum timestamp
                // Initial start and end time for filtering (based on raw data)

                // Track the current time window
                let currentMinTime = originalMinTime;
                let currentMaxTime = originalMaxTime;

                function processData(startTime, endTime) {
                    let groupedData = {};

                    // Loop through the raw data (which is in the format of date -> class -> stats)
                    for (let date in rawData) {
                        if (new Date(date) >= startTime && new Date(date) <= endTime) {
                            let dayData = rawData[date];
                            
                            // Group by class and aggregate the values
                            for (let className in dayData) {
                                if (!groupedData[className]) {
                                    groupedData[className] = { wins: 0, losses: 0, damage: 0, healing: 0, timeSeries: [] };
                                }

                                let { wins, losses, 'damage done': damage, 'healing done': healing } = dayData[className];
                                groupedData[className].wins += wins;
                                groupedData[className].losses += losses;
                                groupedData[className].damage += damage;
                                groupedData[className].healing += healing;
                                
                                // Add data to time series
                                groupedData[className].timeSeries.push([new Date(date).getTime(), wins]);
                            }
                        }
                    }
                    console.log(groupedData);
                    let seriesData = Object.keys(groupedData).map(className => ({
                        name: className,
                        type: 'line',
                        smooth: true,
                        data: groupedData[className].timeSeries
                    }));

                        // Create table data based on the grouped data
                    // Now process table data based on groupedData
                    let tableData = Object.keys(groupedData).map(className => {
                        let { wins, losses, damage, healing } = groupedData[className];
                        let winRate = wins + losses === 0 ? 0 : ((wins / (wins + losses)) * 100).toFixed(2);  // Correct win rate calculation
                        return {
                            class: className,
                            wins: wins,
                            losses: losses,
                            winRate: winRate,
                            damage: damage,
                            healing: healing
                        };
                    });

                    updateTable(tableData);
                    return seriesData;
                }

                function updateTable(tableData) {
                    let tbody = document.querySelector("#data-table tbody");
                    tbody.innerHTML = tableData.length ? tableData.map(row => {
                        return `<tr>
                            <td data-column="class">${row.class}</td>
                            <td data-column="wins">${row.wins}</td>
                            <td data-column="losses">${row.losses}</td>
                            <td data-column="winrate">${row.winRate}%</td>
                            <td data-column="damage">${row.damage}</td>
                            <td data-column="healing">${row.healing}</td>
                        </tr>`;
                    }).join('') : "<tr><td colspan='6'>No data available in this range</td></tr>";
                }

                function goupTheData(startTime, endTime){
                    var groupedData = {};
                    // Assuming startTime and endTime are valid Date objects or date strings
                    Object.keys(rawData).forEach(date => {
                        // Convert the date string to a Date object if it's not already
                        let currentDate = new Date(date);

                        // Check if the currentDate is between startTime and endTime
                        if (currentDate >= startTime && currentDate <= endTime) {
                            // If within range, iterate through each class and accumulate win rates
                            Object.keys(rawData[date]).forEach(className => {
                                let d = rawData[date][className];  // Get the data for each class
                                if (!groupedData[className]) {
                                    groupedData[className] = { winRates: [] };  // Initialize if not already present
                                }
                                // Calculate the win rate and push it to the winRates array
                                let winRate = d.wins / (d.wins + d.losses);
                                groupedData[className].winRates.push(winRate);
                            });
                        }
                    });
                    return groupedData;
                };


                function prepareBoxPlotData(values) {
                    values.sort((a, b) => a - b);
                    const min = values[0];
                    const max = values[values.length - 1];
                    const q1 = values[Math.floor(values.length * 0.25)];
                    const median = values[Math.floor(values.length * 0.5)];
                    const q3 = values[Math.floor(values.length * 0.75)];
                    return [min, q1, median, q3, max];
                }

                var chart1 = echarts.init(document.getElementById('box-whisker-chart'));
                function processBoxPlot(chart1, currentMinTime, currentMaxTime) {
                    var groupedData = goupTheData(currentMinTime, currentMaxTime);
                    var winRateBoxData = [];
                    var validClasses = [];
                    var winRateBoxData = [];
                    var validClasses = [];
                    classes.forEach(cls => {
                        if (groupedData[cls] && groupedData[cls].winRates.length > 0) {
                            validClasses.push(cls);
                            winRateBoxData.push(prepareBoxPlotData(groupedData[cls].winRates));
                        }
                    });
                    validClasses.sort();
                    
                    var option1 ={
                        title: { text: 'Box and Whisker Plot for Win Rates', left: 'center' },
                        tooltip: { trigger: 'item', axisPointer: { type: 'shadow' } },
                        xAxis: { type: 'category', data: validClasses, axisLabel: { rotate: 45 } },
                        yAxis: { type: 'value', name: 'Win Rate', min: 0, max: 1 },
                        series: [
                            { name: 'Win Rate', type: 'boxplot', data: winRateBoxData }
                        ]
                    };
                    chart1.setOption(option1);
                };
                processBoxPlot(chart1, currentMinTime, currentMaxTime)

                // Initial data processing
                let seriesData = processData(currentMinTime, currentMaxTime);

                var option = {
                    title: {
                        text: 'Wins by Class',
                        left: "center"
                    },
                    tooltip: {
                        trigger: 'axis'
                    },
                    legend: {
                        data: classes,
                        orient: 'horizontal',
                        bottom: 50, // Add a little more padding here to move the legend down
                        left: 'center'
                    },
                    grid: {
                        bottom: 150 // Add space at the bottom for the legend and zoom slider
                    },
                    xAxis: {
                        type: 'time',
                        name: 'Time'
                    },
                    yAxis: {
                        type: 'value',
                        name: 'Wins'
                    },
                    dataZoom: [
                        {
                            type: 'slider',
                            show: true,
                            xAxisIndex: 0,
                            start: 0,
                            end: 100
                        },
                        {
                            type: 'inside',
                            xAxisIndex: 0
                        }
                    ],
                    series: seriesData
                };

                chart.setOption(option);
                chart.on('datazoom', function (params) {
                    // Get the percentage values from the dataZoom event
                    let startPercent = params.start; // 0 to 100
                    let endPercent = params.end; // 0 to 100

                    // Calculate the time range from the percentages (relative to the original data bounds)
                    let timeRange = originalMaxTime.getTime() - originalMinTime.getTime();
                    let newMinTime = new Date(originalMinTime.getTime() + (timeRange * startPercent / 100));
                    let newMaxTime = new Date(originalMinTime.getTime() + (timeRange * endPercent / 100));

                    // Only update if the time range has changed
                    if (newMinTime.getTime() !== currentMinTime.getTime() || newMaxTime.getTime() !== currentMaxTime.getTime()) {
                        currentMinTime = newMinTime;
                        currentMaxTime = newMaxTime;

                        // Reprocess data based on updated time range and refresh both the chart and table
                        let newSeries = processData(currentMinTime, currentMaxTime);
                        chart.setOption({ series: newSeries });
                    }
                    processBoxPlot(chart1, currentMinTime, currentMaxTime);
                });

                // Sorting functionality for table
                // Ensure each table header has the corresponding data-column attribute
        const tableHeaders = document.querySelectorAll('th');
        tableHeaders.forEach(header => {
            header.addEventListener('click', function () {
                const column = this.getAttribute('data-column'); // Get the column name
                const rows = Array.from(document.querySelector('#data-table tbody').rows);

                // Determine sort order
                const currentSortOrder = this.dataset.sortOrder || 'asc';
                const newSortOrder = currentSortOrder === 'asc' ? 'desc' : 'asc';

                // Sort the rows based on the clicked column
                rows.sort((rowA, rowB) => {
                    const valA = rowA.querySelector(`td[data-column="${column}"]`).innerText;
                    const valB = rowB.querySelector(`td[data-column="${column}"]`).innerText;

                    if (column === 'class') {
                        return (valA > valB ? 1 : -1) * (newSortOrder === 'asc' ? 1 : -1);
                    }            
                    return (parseFloat(valA) - parseFloat(valB)) * (newSortOrder === 'asc' ? 1 : -1);
                });

                // Reorder the rows in the table body
                rows.forEach(row => {
                    document.querySelector('#data-table tbody').appendChild(row);
                });

                // Update sort order in the header for the next click
                this.dataset.sortOrder = newSortOrder;
            });
        });

            </script>
        </body>
        </html>

